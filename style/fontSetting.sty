%! TEX root = ../main.tex

%===========================================================================%
%->> Brief:
%    Font setting for ctex content. For packages compliance.
%->> Compile: XeLatex
%->> For more infomation:
%    https://github.com/lazyshawn/hitszthesis_master.git
%->> HOWTOs & Demo:
%
%===========================================================================%

%===========================================================================%
%->> Version
%===========================================================================%
\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{style/fontSetting}[
  2021/04/17 v1.0 font setting for Chinese.]


%===========================================================================%
%->> Load Package
%===========================================================================%
% ----- 字体设置(宏包顺序可能导致字体问题)
\PassOptionsToPackage{quiet}{xeCJK}
% heading选项用以启用章节标题的格式设置功能
\RequirePackage[UTF8,heading]{ctex}
\RequirePackage[OT1]{fontenc}
\RequirePackage{fontspec}
\RequirePackage{xpatch}
% ----- 公式字体
% \mathcal: https://tex.stackexchange.com/a/562766
\DeclareMathAlphabet{\mathcal}{OMS}{cmsy}{m}{n}
% \mathscr: https://tex.stackexchange.com/a/551285
\RequirePackage{mathrsfs}
% Times New Romans: https://tex.stackexchange.com/a/211340
\RequirePackage{mathptmx}

%===========================================================================%
%->> Font Settings
%===========================================================================%
% ----- 基础字族
\setsansfont{Arial}   % 西文默认无衬线字体(sans serif)
\setCJKfamilyfont{kai}[AutoFakeBold]{KaiTi}
\newcommand*{\kai}{\CJKfamily{kai}}
\setCJKfamilyfont{song}[AutoFakeBold]{SimSun}
\newcommand*{\song}{\CJKfamily{song}}
\setCJKmainfont[BoldFont={SimHei}, ItalicFont={KaiTi}, BoldItalicFont={SimSun}]{SimSun}
% \setCJKfamilyfont{xinwei}[AutoFakeBold]{stxinwei.ttf}
% \newcommand*{\xinwei}{\CJKfamily{xinwei}}


% ----- 字号设置
% 常规字号
\renewcommand\normalsize{%
	\@setfontsize\normalsize{12.05}{14.45}%
	\abovedisplayskip 12\p@ \@plus3\p@ \@minus7\p@
	\abovedisplayshortskip \z@ \@plus3\p@
	\belowdisplayshortskip 6.5\p@ \@plus3.5\p@ \@minus3\p@}

\setlength\parindent{2em}   % 每行缩进两个汉字
\renewcommand*{\baselinestretch}{1.38}% 行距设置
\ziju{0.076} % 调整汉字间距


